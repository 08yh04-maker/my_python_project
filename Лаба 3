class SmartList(list):
    def print_elements(self):
        if not self:
            print("üì≠ –°–ø–∏—Å–æ–∫ –ø—É—Å—Ç.")
        else:
            print(f"\nüìã –≠–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞ (–≤—Å–µ–≥–æ: {len(self)}):")
            for i, item in enumerate(self):
                print(f"  [{i}]: {item}")

    def remove_duplicates(self):
        seen = set()
        unique_list = SmartList()
        for item in self:
            if item not in seen:
                unique_list.append(item)
                seen.add(item)
        return unique_list

    def get_first(self):
        return self[0] if self else None

    def get_last(self):
        return self[-1] if self else None

    def find_elements(self, search_term):
        results = SmartList()
        for item in self:
            if str(search_term).lower() in str(item).lower():
                results.append(item)
        return results

def main():
    print("=== –ó–ê–î–ê–ù–ò–ï 5: –£–ú–ù–´–ô –°–ü–ò–°–û–ö (SMARTLIST) ===")
    
    smart_list = SmartList()
    
    while True:
        print(f"\n–¢–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫ ({len(smart_list)} —ç–ª–µ–º–µ–Ω—Ç–æ–≤):")
        smart_list.print_elements()
        
        print("\nüìù –î–û–°–¢–£–ü–ù–´–ï –û–ü–ï–†–ê–¶–ò–ò:")
        print("1 - –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç")
        print("2 - –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É")
        print("3 - –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã")
        print("4 - –ù–∞–π—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã")
        print("5 - –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç")
        print("6 - –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç")
        print("7 - –û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫")
        print("8 - –í—ã—Ö–æ–¥")
        
        choice = input("–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é (1-8): ")
        
        if choice == '8':
            break
        elif choice == '1':
            element = input("–í–≤–µ–¥–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è: ")
            try:
                if '.' in element:
                    element = float(element)
                else:
                    element = int(element)
            except ValueError:
                pass
            smart_list.append(element)
            print(f"‚úÖ –≠–ª–µ–º–µ–Ω—Ç '{element}' –¥–æ–±–∞–≤–ª–µ–Ω")
            
        elif choice == '2':
            if smart_list:
                try:
                    index = int(input("–í–≤–µ–¥–∏—Ç–µ –∏–Ω–¥–µ–∫—Å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è: "))
                    if 0 <= index < len(smart_list):
                        removed = smart_list.pop(index)
                        print(f"‚úÖ –£–¥–∞–ª–µ–Ω —ç–ª–µ–º–µ–Ω—Ç: {removed}")
                    else:
                        print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å!")
                except ValueError:
                    print("‚ùå –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ!")
            else:
                print("üì≠ –°–ø–∏—Å–æ–∫ –ø—É—Å—Ç!")
                
        elif choice == '3':
            if smart_list:
                unique_list = smart_list.remove_duplicates()
                removed_count = len(smart_list) - len(unique_list)
                print("‚úÖ –°–ø–∏—Å–æ–∫ –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:")
                unique_list.print_elements()
                print(f"üóëÔ∏è –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤: {removed_count}")
                smart_list[:] = unique_list
            else:
                print("üì≠ –°–ø–∏—Å–æ–∫ –ø—É—Å—Ç!")
                
        elif choice == '4':
            if smart_list:
                search_term = input("–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞: ")
                results = smart_list.find_elements(search_term)
                if results:
                    print(f"üîç –ù–∞–π–¥–µ–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: {len(results)}")
                    results.print_elements()
                else:
                    print("‚ùå –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã")
            else:
                print("üì≠ –°–ø–∏—Å–æ–∫ –ø—É—Å—Ç!")
                
        elif choice == '5':
            first = smart_list.get_first()
            print(f"üìç –ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç: {first}")
            
        elif choice == '6':
            last = smart_list.get_last()
            print(f"üìç –ü–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç: {last}")
            
        elif choice == '7':
            if smart_list:
                smart_list.clear()
                print("‚úÖ –°–ø–∏—Å–æ–∫ –æ—á–∏—â–µ–Ω")
            else:
                print("üì≠ –°–ø–∏—Å–æ–∫ —É–∂–µ –ø—É—Å—Ç!")
                
        else:
            print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä!")
    
    print(f"\n=== –§–ò–ù–ê–õ–¨–ù–´–ô –°–ü–ò–°–û–ö ({len(smart_list)} —ç–ª–µ–º–µ–Ω—Ç–æ–≤) ===")
    smart_list.print_elements()

if __name__ == "__main__":
    main()
