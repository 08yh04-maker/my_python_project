def main():
    print("=== –ó–ê–î–ê–ù–ò–ï 1: –§–ò–õ–¨–¢–†–ê–¶–ò–Ø –ß–Å–¢–ù–´–• –ß–ò–°–ï–õ ===")
    print("–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å: filter() + lambda\n")
    
    # –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    input_str = input("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª: ")
    
    try:
        # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤–≤–æ–¥ –≤ —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª
        numbers = list(map(int, input_str.split()))
        
        print(f"\n–ò—Å—Ö–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫: {numbers}")
        
        # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á—ë—Ç–Ω—ã—Ö —á–∏—Å–µ–ª
        even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
        
        print(f"–ß—ë—Ç–Ω—ã–µ —á–∏—Å–ª–∞: {even_numbers}")
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –æ–±—ã—á–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
        even_traditional = [x for x in numbers if x % 2 == 0]
        print(f"–ü—Ä–æ–≤–µ—Ä–∫–∞ (–æ–±—ã—á–Ω—ã–π —Å–ø–æ—Å–æ–±): {even_traditional}")
        
    except ValueError:
        print("‚ùå –û—à–∏–±–∫–∞! –í–≤–æ–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª–∞–º–∏.")

if __name__ == "__main__":
    main()


from functools import reduce

def factorial_reduce(n):
    """–í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞ —Å –ø–æ–º–æ—â—å—é reduce"""
    if n < 0:
        raise ValueError("–§–∞–∫—Ç–æ—Ä–∏–∞–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª")
    if n == 0:
        return 1
    return reduce(lambda x, y: x * y, range(1, n + 1))

def main():
    print("=== –ó–ê–î–ê–ù–ò–ï 2: –§–ê–ö–¢–û–†–ò–ê–õ –ß–ï–†–ï–ó REDUCE ===")
    print("–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å: reduce() + lambda\n")
    
    while True:
        try:
            n = int(input("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞: "))
            
            if n < 0:
                print("‚ùå –§–∞–∫—Ç–æ—Ä–∏–∞–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª!")
                continue
                
            result = factorial_reduce(n)
            print(f"üéØ {n}! = {result}")
            
            # –ü–æ–∫–∞–∂–µ–º –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç reduce –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ
            if n > 0:
                numbers = list(range(1, n + 1))
                print(f"–í—ã—á–∏—Å–ª–µ–Ω–∏–µ: reduce(lambda x, y: x * y, {numbers})")
            
            # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–±—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º
            traditional_result = 1
            for i in range(1, n + 1):
                traditional_result *= i
            print(f"–ü—Ä–æ–≤–µ—Ä–∫–∞ (–æ–±—ã—á–Ω—ã–π —Å–ø–æ—Å–æ–±): {traditional_result}")
            
        except ValueError:
            print("‚ùå –û—à–∏–±–∫–∞! –í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ.")
        
        # –°–ø—Ä–æ—Å–∏–º, —Ö–æ—á–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
        again = input("\n–í—ã—á–∏—Å–ª–∏—Ç—å –µ—â–µ –æ–¥–∏–Ω —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª? (–¥–∞/–Ω–µ—Ç): ").lower()
        if again != '–¥–∞':
            break

if __name__ == "__main__":
    main()
