def main():
    print("=== –ó–ê–î–ê–ù–ò–ï 1: –§–ò–õ–¨–¢–†–ê–¶–ò–Ø –ß–Å–¢–ù–´–• –ß–ò–°–ï–õ ===")
    print("–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å: filter() + lambda\n")
    
    # –í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    input_str = input("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª: ")
    
    try:
        # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤–≤–æ–¥ –≤ —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª
        numbers = list(map(int, input_str.split()))
        
        print(f"\n–ò—Å—Ö–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫: {numbers}")
        
        # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á—ë—Ç–Ω—ã—Ö —á–∏—Å–µ–ª
        even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
        
        print(f"–ß—ë—Ç–Ω—ã–µ —á–∏—Å–ª–∞: {even_numbers}")
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –æ–±—ã—á–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
        even_traditional = [x for x in numbers if x % 2 == 0]
        print(f"–ü—Ä–æ–≤–µ—Ä–∫–∞ (–æ–±—ã—á–Ω—ã–π —Å–ø–æ—Å–æ–±): {even_traditional}")
        
    except ValueError:
        print("‚ùå –û—à–∏–±–∫–∞! –í–≤–æ–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª–∞–º–∏.")

if __name__ == "__main__":
    main()


from functools import reduce

def factorial_reduce(n):
    """–í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞ —Å –ø–æ–º–æ—â—å—é reduce"""
    if n < 0:
        raise ValueError("–§–∞–∫—Ç–æ—Ä–∏–∞–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª")
    if n == 0:
        return 1
    return reduce(lambda x, y: x * y, range(1, n + 1))

def main():
    print("=== –ó–ê–î–ê–ù–ò–ï 2: –§–ê–ö–¢–û–†–ò–ê–õ –ß–ï–†–ï–ó REDUCE ===")
    print("–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å: reduce() + lambda\n")
    
    while True:
        try:
            n = int(input("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞: "))
            
            if n < 0:
                print("‚ùå –§–∞–∫—Ç–æ—Ä–∏–∞–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª!")
                continue
                
            result = factorial_reduce(n)
            print(f"üéØ {n}! = {result}")
            
            # –ü–æ–∫–∞–∂–µ–º –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç reduce –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ
            if n > 0:
                numbers = list(range(1, n + 1))
                print(f"–í—ã—á–∏—Å–ª–µ–Ω–∏–µ: reduce(lambda x, y: x * y, {numbers})")
            
            # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–±—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º
            traditional_result = 1
            for i in range(1, n + 1):
                traditional_result *= i
            print(f"–ü—Ä–æ–≤–µ—Ä–∫–∞ (–æ–±—ã—á–Ω—ã–π —Å–ø–æ—Å–æ–±): {traditional_result}")
            
        except ValueError:
            print("‚ùå –û—à–∏–±–∫–∞! –í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ.")
        
        # –°–ø—Ä–æ—Å–∏–º, —Ö–æ—á–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
        again = input("\n–í—ã—á–∏—Å–ª–∏—Ç—å –µ—â–µ –æ–¥–∏–Ω —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª? (–¥–∞/–Ω–µ—Ç): ").lower()
        if again != '–¥–∞':
            break

if __name__ == "__main__":
    main()


import datetime
import time

def log_function_call(func):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π"""
    def wrapper(*args, **kwargs):
        # –õ–æ–≥–∏—Ä—É–µ–º –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
        timestamp = datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        print(f"\nüìù [{timestamp}] –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏: {func.__name__}")
        print(f"   –ê—Ä–≥—É–º–µ–Ω—Ç—ã: args={args}, kwargs={kwargs}")
        
        # –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
        result = func(*args, **kwargs)
        
        # –õ–æ–≥–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        print(f"   –†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
        print(f"‚úÖ –§—É–Ω–∫—Ü–∏—è {func.__name__} –∑–∞–≤–µ—Ä—à–µ–Ω–∞")
        
        return result
    return wrapper

# –ü—Ä–∏–º–µ—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º
@log_function_call
def add_numbers(a, b):
    """–°–ª–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª"""
    return a + b

@log_function_call
def multiply_numbers(a, b):
    """–£–º–Ω–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª"""
    return a * b

@log_function_call
def greet(name, greeting="–ü—Ä–∏–≤–µ—Ç"):
    """–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    return f"{greeting}, {name}!"

def main():
    print("=== –ó–ê–î–ê–ù–ò–ï 3: –î–ï–ö–û–†–ê–¢–û–† –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø ===")
    print("–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ @log_function_call\n")
    
    while True:
        print("\n" + "="*50)
        print("–í—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:")
        print("1 - –°–ª–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª")
        print("2 - –£–º–Ω–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª")
        print("3 - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ")
        print("4 - –í—ã—Ö–æ–¥")
        
        choice = input("–í–∞—à –≤—ã–±–æ—Ä (1-4): ")
        
        if choice == '1':
            try:
                a = float(input("–í–≤–µ–¥–∏—Ç–µ –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ: "))
                b = float(input("–í–≤–µ–¥–∏—Ç–µ –≤—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ: "))
                result = add_numbers(a, b)
                print(f"üéØ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
            except ValueError:
                print("‚ùå –û—à–∏–±–∫–∞! –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–∞.")
                
        elif choice == '2':
            try:
                a = float(input("–í–≤–µ–¥–∏—Ç–µ –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ: "))
                b = float(input("–í–≤–µ–¥–∏—Ç–µ –≤—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ: "))
                result = multiply_numbers(a, b)
                print(f"üéØ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
            except ValueError:
                print("‚ùå –û—à–∏–±–∫–∞! –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–∞.")
                
        elif choice == '3':
            name = input("–í–≤–µ–¥–∏—Ç–µ –∏–º—è: ")
            greeting = input("–í–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (–∏–ª–∏ Enter –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ): ")
            if greeting:
                result = greet(name, greeting)
            else:
                result = greet(name)
            print(f"üéØ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
            
        elif choice == '4':
            print("–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã...")
            break
            
        else:
            print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä!")

if __name__ == "__main__":
    main()



import time
from functools import wraps

def memoize(func):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è) —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏"""
    cache = {}
    
    @wraps(func)
    def wrapper(*args, **kwargs):
        # –°–æ–∑–¥–∞–µ–º –∫–ª—é—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
        key = str(args) + str(kwargs)
        
        # –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–∂–µ –≤ –∫–µ—à–µ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
        if key in cache:
            print(f"‚ö° –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∑—è—Ç –∏–∑ –∫–µ—à–∞!")
            return cache[key]
        
        # –ò–Ω–∞—á–µ –≤—ã—á–∏—Å–ª—è–µ–º –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫–µ—à
        result = func(*args, **kwargs)
        cache[key] = result
        print(f"üíæ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∫–µ—à")
        
        return result
    
    return wrapper

# –§—É–Ω–∫—Ü–∏—è —Å –º–µ–º–æ–∏–∑–∞—Ü–∏–µ–π - –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏
@memoize
def fibonacci(n):
    """–í—ã—á–∏—Å–ª–µ–Ω–∏–µ n-–≥–æ —á–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏"""
    if n < 2:
        return n
    return fibonacci(n - 1) + fibonacci(n - 2)

# –§—É–Ω–∫—Ü–∏—è —Å –º–µ–º–æ–∏–∑–∞—Ü–∏–µ–π - —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª
@memoize
def factorial(n):
    """–í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞"""
    if n == 0:
        return 1
    return n * factorial(n - 1)

# –§—É–Ω–∫—Ü–∏—è —Å –º–µ–º–æ–∏–∑–∞—Ü–∏–µ–π - –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
@memoize
def expensive_operation(x):
    """–ò–º–∏—Ç–∞—Ü–∏—è –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏"""
    print(f"üîç –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –¥–ª—è {x}...")
    time.sleep(2)  # –ò–º–∏—Ç–∞—Ü–∏—è –¥–æ–ª–≥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
    return x * x + 2 * x + 1

def main():
    print("=== –ó–ê–î–ê–ù–ò–ï 4: –ú–ï–ú–û–ò–ó–ê–¶–ò–Ø –ß–ï–†–ï–ó –î–ï–ö–û–†–ê–¢–û–† ===")
    print("–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π\n")
    
    while True:
        print("\n" + "="*50)
        print("–í—ã–±–µ—Ä–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏:")
        print("1 - –ß–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏ (—Ä–µ–∫—É—Ä—Å–∏—è)")
        print("2 - –§–∞–∫—Ç–æ—Ä–∏–∞–ª (—Ä–µ–∫—É—Ä—Å–∏—è)")
        print("3 - –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (–∑–∞–¥–µ—Ä–∂–∫–∞ 2 —Å–µ–∫)")
        print("4 - –í—ã—Ö–æ–¥")
        
        choice = input("–í–∞—à –≤—ã–±–æ—Ä (1-4): ")
        
        if choice == '1':
            try:
                n = int(input("–í–≤–µ–¥–∏—Ç–µ n –¥–ª—è —á–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏: "))
                if n < 0:
                    print("‚ùå –ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º!")
                    continue
                    
                start_time = time.time()
                result = fibonacci(n)
                end_time = time.time()
                
                print(f"üéØ F({n}) = {result}")
                print(f"‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {end_time - start_time:.4f} —Å–µ–∫")
                
                # –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
                print("\n--- –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∫–µ—à–∞ ---")
                start_time = time.time()
                result2 = fibonacci(n)
                end_time = time.time()
                print(f"‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {end_time - start_time:.4f} —Å–µ–∫")
                
            except ValueError:
                print("‚ùå –û—à–∏–±–∫–∞! –í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ.")
            except RecursionError:
                print("‚ùå –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–∏!")
                
        elif choice == '2':
            try:
                n = int(input("–í–≤–µ–¥–∏—Ç–µ n –¥–ª—è —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞: "))
                if n < 0:
                    print("‚ùå –ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º!")
                    continue
                    
                start_time = time.time()
                result = factorial(n)
                end_time = time.time()
                
                print(f"üéØ {n}! = {result}")
                print(f"‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {end_time - start_time:.4f} —Å–µ–∫")
                
            except ValueError:
                print("‚ùå –û—à–∏–±–∫–∞! –í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ.")
                
        elif choice == '3':
            try:
                x = float(input("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ x: "))
                
                print("--- –ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤ (–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ) ---")
                start_time = time.time()
                result = expensive_operation(x)
                end_time = time.time()
                print(f"üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
                print(f"‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {end_time - start_time:.4f} —Å–µ–∫")
                
                print("\n--- –í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤ (–∏–∑ –∫–µ—à–∞) ---")
                start_time = time.time()
                result2 = expensive_operation(x)
                end_time = time.time()
                print(f"‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {end_time - start_time:.4f} —Å–µ–∫")
                
            except ValueError:
                print("‚ùå –û—à–∏–±–∫–∞! –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ.")
                
        elif choice == '4':
            print("–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã...")
            break
            
        else:
            print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä!")

if __name__ == "__main__":
    main()
